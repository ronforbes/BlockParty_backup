var GraphicsManager=function(){function n(n){this.WorldWidth=90,this.WorldHeight=160,this.AspectRatio=9/16,this.canvas=n[0],this.canvasContext=this.canvas.getContext("2d"),this.backBuffer=document.createElement("canvas"),this.backBuffer.width=this.canvas.width,this.backBuffer.height=this.canvas.height,this.backBufferContext=this.backBuffer.getContext("2d");var t=this;$(window).resize(function(){setTimeout(function(){t.WindowResized()},250)})}return n.prototype.Initialize=function(){this.WindowResized()},n.prototype.WindowResized=function(){var n=this;this.UpdateDimensions(),setTimeout(function(){n.UpdateDimensions()},1500)},n.prototype.UpdateDimensions=function(){var n,t,i=window.innerWidth/window.innerHeight;i>this.AspectRatio?(n=window.innerHeight*this.AspectRatio,t=window.innerHeight):(n=window.innerWidth,t=window.innerWidth/this.AspectRatio),this.canvas.style.width=n+"px",this.canvas.style.height=t+"px",this.canvas.width=n,this.canvas.height=t,this.backBuffer.width=n,this.backBuffer.height=t,this.canvas.style.left=(window.innerWidth-this.canvas.width)/2+"px",this.canvas.style.top=(window.innerHeight-this.canvas.height)/2+"px"},n.prototype.DrawLine=function(n,t,i,r){var u=this.TransformWorldToCanvas(n),f=this.TransformWorldToCanvas(t);this.backBufferContext.save(),this.backBufferContext.beginPath(),this.backBufferContext.strokeStyle=r,this.backBufferContext.lineWidth=i,this.backBufferContext.moveTo(u.X,u.Y),this.backBufferContext.lineTo(f.X,f.Y),this.backBufferContext.stroke(),this.backBufferContext.restore()},n.prototype.DrawRectangle=function(n,t,i,r,u,f){var e=this.TransformWorldToCanvas(n),o=this.TransformWorldToCanvasX(t),s=this.TransformWorldToCanvasY(i);this.backBufferContext.save(),this.backBufferContext.lineWidth=r,u&&(this.backBufferContext.strokeStyle=u,this.backBufferContext.strokeRect(e.X,e.Y,o,s)),f&&(this.backBufferContext.fillStyle=f,this.backBufferContext.fillRect(e.X,e.Y,o,s)),this.backBufferContext.restore()},n.prototype.DrawFullscreenRectangle=function(n){this.backBufferContext.save(),this.backBufferContext.fillStyle=n,this.backBufferContext.fillRect(0,0,this.canvas.width,this.canvas.height),this.backBufferContext.restore()},n.prototype.DrawCircle=function(n,t,i,r,u){var f=this.TransformWorldToCanvas(n),e=this.TransformWorldToCanvasX(t);this.backBufferContext.save(),this.backBufferContext.beginPath(),this.backBufferContext.lineWidth=i,this.backBufferContext.arc(f.X,f.Y,e,0,Math.PI*2,!0),u?(this.backBufferContext.fillStyle=r,this.backBufferContext.fill()):(this.backBufferContext.strokeStyle=r,this.backBufferContext.stroke()),this.backBufferContext.restore()},n.prototype.DrawText=function(n,t,i){var r=this.TransformWorldToCanvas(t);this.backBufferContext.save(),this.backBufferContext.font="bold 24px Arial",this.backBufferContext.fillStyle=i,this.backBufferContext.fillText(n,r.X,r.Y),this.backBufferContext.restore()},n.prototype.Clear=function(){this.backBufferContext.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.Draw=function(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvasContext.drawImage(this.backBuffer,0,0)},n.prototype.TransformWorldToCanvas=function(n){return new Vector2(n.X*this.canvas.width/this.WorldWidth,n.Y*this.canvas.height/this.WorldHeight)},n.prototype.TransformWorldToCanvasX=function(n){return n*this.canvas.width/this.WorldWidth},n.prototype.TransformWorldToCanvasY=function(n){return n*this.canvas.height/this.WorldHeight},n}(),Graphics=new GraphicsManager($("#canvas"))