var ScreenManager=function(){function n(n){this.screens=[],this.screensToUpdate=[],this.Game=n}return n.prototype.AddScreen=function(n){n.LoadContent(),this.screens.push(n)},n.prototype.RemoveScreen=function(n){n.UnloadContent();var t=this.screens.indexOf(n);this.screens.splice(t)},n.prototype.LoadScreen=function(n){this.screens.forEach(function(n){n.TransitionOff()}),this.screenToLoad=n,this.loadingScreen=!0},n.prototype.Update=function(n){for(this.Game.InputManager.Update(),this.screensToUpdate.splice(0,this.screensToUpdate.length),this.screens.forEach(function(n){this.screensToUpdate.push(n)},this);this.screensToUpdate.length>0;){var t=this.screensToUpdate.pop();t.Update(n),t.HandleInput(n)}this.loadingScreen&&this.screens.length==0&&(this.AddScreen(this.screenToLoad),this.loadingScreen=!1)},n.prototype.Draw=function(n){this.Game.GraphicsManager.Clear(),this.screens.forEach(function(t){t.Draw(n)})},n}()